Homework 3
================
mm5951
2022-10-12

## Problem 1

Solution provided by teaching team.

## Problem 2

Let’s investigate the accelerometer dataset for the diagnosis of
congestive heart failure (CHF).

### Data import

I first **load, tidy, and wrangle data** using the `read_csv` and
`janitor::clean_names` functions. A variable to distinguish between
weekdays and weekends is created using `mutate` function and place it
next to the “day” column using `relocate`.

Next, I address the “activity\_\*” variables, which correspond to the
activity counts for each minute of a 24-hour day starting at midnight.
The dataframe is transposedusing the `pivot_longer` function, by which
all activity observations are classified under “minute” according to the
minute (1, 1440) of each of the five days to which they correspond, and
its associated value falls under “activity_counts”.

Finally, the 6 resulting variables are coerced into number and factor
types as adequate using the `as.numeric` and `factor` functions.

``` r
accel_df = read_csv("data_problem2/accel_data.csv") %>%
  janitor::clean_names() %>% 
  mutate(
    weekend_or_weekday = if_else((day == "Saturday" | day == "Sunday"),"Weekend","Weekday")) %>% 
  relocate(week,day_id, day,weekend_or_weekday) %>% 
  pivot_longer(
    cols = activity_1:activity_1440,
    names_to = "minute",
    values_to = "activity_counts",
    names_prefix = "activity_"
   ) %>% 
  mutate(
  minute = as.numeric(minute),
  day = factor(day, level = c("Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday")),
  weekend_or_weekday = factor(weekend_or_weekday, level = c("Weekday", "Weekend"))
  )
```

    ## Rows: 35 Columns: 1443
    ## ── Column specification ────────────────────────────────────────────────────────
    ## Delimiter: ","
    ## chr    (1): day
    ## dbl (1442): week, day_id, activity.1, activity.2, activity.3, activity.4, ac...
    ## 
    ## ℹ Use `spec()` to retrieve the full column specification for this data.
    ## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.

The `str` function reveals the nature of data of each of the variables
(that is a verification).

``` r
str(accel_df)
```

    ## tibble [50,400 × 6] (S3: tbl_df/tbl/data.frame)
    ##  $ week              : num [1:50400] 1 1 1 1 1 1 1 1 1 1 ...
    ##  $ day_id            : num [1:50400] 1 1 1 1 1 1 1 1 1 1 ...
    ##  $ day               : Factor w/ 7 levels "Monday","Tuesday",..: 5 5 5 5 5 5 5 5 5 5 ...
    ##  $ weekend_or_weekday: Factor w/ 2 levels "Weekday","Weekend": 1 1 1 1 1 1 1 1 1 1 ...
    ##  $ minute            : num [1:50400] 1 2 3 4 5 6 7 8 9 10 ...
    ##  $ activity_counts   : num [1:50400] 88.4 82.2 64.4 70 75 ...

### Dataset description

The accel_df dataset contains five weeks of accelerometer data collected
on a 63 year-old male with BMI 25, who was admitted to the Advanced
Cardiac Care Center of Columbia University Medical Center and diagnosed
with congestive heart failure (CHF).

The “accel_df” dataset contains 50400 observations of activity
(accelerometer data), and there are 6 variables, which are week, day_id,
day, weekend_or_weekday, minute, activity_counts that describing the
information of data. Specifically, minute stands for the number of
minute of a 24-hour day starting at midnight, range from 1, 1440
minutes. And activity_counts stands for the activity count of the male
collected by accelerometer, ranging from 1, 8982.

### Next

Traditional analyses of accelerometer data focus on the total activity
over the day. Using your tidied dataset, aggregate across minutes to
create a total activity variable for each day, and create a table
showing these totals. Are any trends apparent? Accelerometer data allows
the inspection activity over the course of the day. Make a single-panel
plot that shows the 24-hour activity time courses for each day and use
color to indicate day of the week. Describe in words any patterns or
conclusions you can make based on this graph.
